{% extends "base.html" %}

{% block title %}Resultados Listos{% endblock %}

{% block content %}
<head>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
  <script src="https://kit.fontawesome.com/a076d05399.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<div class="w-full max-w-7xl mx-auto px-6 py-8">
  <!-- Encabezado -->
  <div class="flex items-center space-x-2 mb-6">
    <button class="text-2xl" onclick="window.history.back()">
      <i class="fas fa-arrow-left"></i>
    </button>
    <h1 class="text-3xl font-bold">Resultados Listos</h1>
  </div>

  <!-- Contenido principal -->
  <div class="flex flex-col lg:flex-row items-start gap-6 justify-center">
    
    <!-- Tabla principal -->
    <div class="bg-white rounded-[1rem] shadow-md overflow-x-auto max-w-[1200px] w-full">
      <table class="min-w-full text-base text-left">
        <thead>
          <tr class="border-b">
            <th class="px-6 py-4 text-red-600 font-bold">Folio ⬇</th>
            <th class="px-6 py-4 font-semibold text-gray-700">Nombre del paciente</th>
            <th class="px-6 py-4 font-semibold text-gray-700">Lugar</th>
            <th class="px-6 py-4 text-center font-semibold text-gray-700">Acciones</th>
          </tr>
        </thead>
        <tbody>
          {% set pacientes = [
            ("00010", "María Fernanda López Hernández", "Consultorio Pediátrico 3", "green"),
            ("00008", "José Manuel Pérez Rodríguez", "Habitación E-104", "green"),
            ("00007", "Ana Sofía Ramírez García", "Consultorio General 1", "red"),
            ("00006", "Juan Carlos Martínez Torres", "Terapia Intensiva", "red"),
            ("00005", "Valeria González Chávez", "Área de Triage", "green"),
            ("00004", "Miguel Ángel Rivera López", "Sala de Tratamiento Ambulatorio", "green"),
            ("00003", "Diana Carolina Jiménez Flores", "Cuidados Coronarios", "green"),
            ("00002", "Luis Fernando Ortiz Ramírez", "Consultorio Especializado 2", "red"),
            ("00001", "Gabriela Alejandra Castillo Cruz", "Cuidados Coronarios", "red")
          ] %}
          {% for folio, nombre, lugar, color in pacientes %}
          <tr class="border-b">
            <td class="px-6 py-4 font-bold flex items-center gap-2 text-{{ color }}-600">
              <span class="h-3 w-3 rounded-full bg-{{ color }}-600 inline-block"></span> #{{ folio }}
            </td>
            <td class="px-6 py-4">{{ nombre }}</td>
            <td class="px-6 py-4">{{ lugar }}</td>
            <td class="px-6 py-4 flex gap-2 justify-center">
              <button class="btn-whats px-4 py-1 rounded-[1rem]">WhatsApp</button>
              <button class="btn-guardar px-4 py-1 rounded-[1rem]"  onclick="window.location.href='{{ url_for('app_routes.mostrador_dashboard') }}'">Imprimir</button>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <!-- Panel lateral de faltantes -->
    <div class="w-full lg:w-[360px] bg-white rounded-[1rem] shadow-md p-4">
      <h2 class="text-lg font-bold text-center mb-4">Faltantes de reportar</h2>
      <table class="w-full text-sm text-left">
        <thead>
          <tr class="border-b">
            <th class="pb-2 text-red-600 font-semibold">Folio ⬇</th>
            <th class="pb-2">Nombre del paciente</th>
          </tr>
        </thead>
        <tbody>
          {% set faltantes = [
            ("00011", "María José Hernández Gómez"),
            ("00012", "Jorge Luis Vargas Martínez"),
            ("00013", "Carmen Patricia Flores López"),
            ("00014", "Carlos Eduardo Pérez Gutiérrez"),
            ("00015", "Sofía Elena Jiménez Morales"),
            ("00016", "Andrés Felipe Castillo Torres"),
            ("00017", "Alejandra Itzel Sánchez Cruz")
          ] %}
          {% for folio, nombre in faltantes %}
          <tr class="border-b hover:bg-gray-100">
            <td class="py-2 text-red-600 font-bold">#{{ folio }}</td>
            <td class="py-2">{{ nombre }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

  </div>
</div>
{% endblock %}
